<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
					xmlns:controls="clr-namespace:CG.Test.Editor.FrontEnd.Views.Controls">
	<ResourceDictionary.MergedDictionaries>
		<ResourceDictionary Source="/Resources/Styles/Modern/UIElements/Window.xaml"/>
		<ResourceDictionary Source="/Resources/Styles/Modern/UIElements/TextBox.xaml"/>
	</ResourceDictionary.MergedDictionaries>

	<Style x:Key="UpRepeatButtonStyle" TargetType="{x:Type RepeatButton}">
		<Setter Property="Background"      Value="{DynamicResource Button.Normal.Background}"/>
		<Setter Property="BorderBrush"     Value="{DynamicResource Button.Normal.Border}"/>
		<Setter Property="Foreground"      Value="{DynamicResource Window.Active.Foreground}"/>
		<Setter Property="BorderThickness" Value="1"/>
		<Setter Property="FontSize" Value="14"/>
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="{x:Type RepeatButton}">
					<Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="0, 4, 0, 0" 
                            Padding="4, 2, 4, 2"
                            SnapsToDevicePixels="True">
						<ContentPresenter x:Name="_contentPresenter"
                                      HorizontalAlignment="Center" 
                                      VerticalAlignment="Center"
                                      Content="{TemplateBinding Content}"/>
					</Border>

					<ControlTemplate.Triggers>
						<Trigger Property="IsMouseOver" Value="True">
							<Setter Property="Background"  Value="{DynamicResource Button.MouseOver.Background}"/>
							<Setter Property="BorderBrush" Value="{DynamicResource Button.MouseOver.Border}"/>
						</Trigger>

						<Trigger Property="IsPressed" Value="True">
							<Setter Property="Background"  Value="{DynamicResource Button.Pressed.Background}"/>
							<Setter Property="BorderBrush" Value="{DynamicResource Button.Pressed.Border}"/>
						</Trigger>

						<Trigger Property="IsEnabled" Value="False">
							<Setter Property="Background"  Value="{DynamicResource Button.Disabled.Background}"/>
							<Setter Property="BorderBrush" Value="{DynamicResource Button.Disabled.Border}"/>
							<Setter Property="Foreground"  Value="{DynamicResource Window.Active.Foreground.Disabled}"/>
						</Trigger>
					</ControlTemplate.Triggers>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

	<Style x:Key="DownRepeatButtonStyle" TargetType="{x:Type RepeatButton}">
		<Setter Property="Background"      Value="{DynamicResource Button.Normal.Background}"/>
		<Setter Property="BorderBrush"     Value="{DynamicResource Button.Normal.Border}"/>
		<Setter Property="Foreground"      Value="{DynamicResource Window.Active.Foreground}"/>
		<Setter Property="BorderThickness" Value="1"/>
		<Setter Property="FontSize" Value="14"/>
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="{x:Type RepeatButton}">
					<Border Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="0, 0, 4, 0" 
                        Padding="4, 2, 4, 2"
                        SnapsToDevicePixels="True">
						<ContentPresenter x:Name="_contentPresenter"
                                  HorizontalAlignment="Center" 
                                  VerticalAlignment="Center"
                                  Content="{TemplateBinding Content}"/>
					</Border>

					<ControlTemplate.Triggers>
						<Trigger Property="IsMouseOver" Value="True">
							<Setter Property="Background"  Value="{DynamicResource Button.MouseOver.Background}"/>
							<Setter Property="BorderBrush" Value="{DynamicResource Button.MouseOver.Border}"/>
						</Trigger>

						<Trigger Property="IsPressed" Value="True">
							<Setter Property="Background"  Value="{DynamicResource Button.Pressed.Background}"/>
							<Setter Property="BorderBrush" Value="{DynamicResource Button.Pressed.Border}"/>
						</Trigger>

						<Trigger Property="IsEnabled" Value="False">
							<Setter Property="Background"  Value="{DynamicResource Button.Disabled.Background}"/>
							<Setter Property="BorderBrush" Value="{DynamicResource Button.Disabled.Border}"/>
							<Setter Property="Foreground"  Value="{DynamicResource Window.Active.Foreground.Disabled}"/>
						</Trigger>
					</ControlTemplate.Triggers>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

	<Style x:Key="SpinButtonTextBox" TargetType="{x:Type TextBox}">
		<!--<Setter Property="Validation.ErrorTemplate"         Value="{DynamicResource TextBoxErrorTemplate}"/>-->
		<Setter Property="Background"                       Value="{DynamicResource TextBox.Normal.Background}"/>
		<Setter Property="BorderBrush"                      Value="{DynamicResource TextBox.Normal.Border}"/>
		<Setter Property="Foreground"                       Value="{DynamicResource Window.Active.Foreground}"/>
		<Setter Property="CaretBrush"                       Value="{DynamicResource Window.Active.Foreground}"/>
		<Setter Property="SelectionBrush"                   Value="{DynamicResource TextBox.Selection}"/>
		<Setter Property="BorderThickness"                  Value="1, 1, 0, 1"/>
		<Setter Property="KeyboardNavigation.TabNavigation" Value="None"/>
		<Setter Property="HorizontalContentAlignment"       Value="Left"/>
		<Setter Property="FocusVisualStyle"                 Value="{x:Null}"/>
		<Setter Property="AllowDrop"                        Value="true"/>
		<Setter Property="ScrollViewer.PanningMode"         Value="VerticalFirst"/>
		<Setter Property="Stylus.IsFlicksEnabled"           Value="False"/>
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="{x:Type TextBox}">
					<Grid SnapsToDevicePixels="True">
						<Grid.RowDefinitions>
							<RowDefinition Height="*"/>
							<RowDefinition Height="auto"/>
						</Grid.RowDefinitions>

						<Border x:Name="border" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" 
								CornerRadius="3, 0, 0, 3" Padding="5, 5, 5, 8" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
							<ScrollViewer x:Name="PART_ContentHost" Focusable="false" HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Hidden"/>
						</Border>

						<Border x:Name="focusBar" 
								CornerRadius="0, 0, 0, 3" 
								BorderThickness="0" 
								Background="{DynamicResource TextBox.Focused.Bar}"
								Visibility="Collapsed"
								Height="2" 
								Margin="1" 
								VerticalAlignment="Bottom"
								SnapsToDevicePixels="True"/>
					</Grid>
					<ControlTemplate.Triggers>
						<Trigger Property="IsEnabled" Value="false">
							<Setter Property="Opacity" TargetName="border" Value="0.56"/>
						</Trigger>
						<Trigger Property="IsMouseOver" Value="true">
							<Setter Property="BorderBrush"  TargetName="border" Value="{DynamicResource TextBox.MouseOver.Border}"/>
							<Setter Property="Background"   TargetName="border" Value="{DynamicResource TextBox.MouseOver.Background}"/>
						</Trigger>
						<Trigger Property="IsKeyboardFocused" Value="true">
							<Setter Property="BorderBrush" TargetName="border" Value="{DynamicResource TextBox.Focused.Border}"/>
							<Setter Property="Background"  TargetName="border" Value="{DynamicResource TextBox.Focused.Background}"/>
							<!--<Setter Property="BorderThickness" TargetName="border" Value="1, 1, 1, 2"/>-->
							<Setter Property="CornerRadius" TargetName="border" Value="3, 0, 0, 0"/>
							<Setter Property="Visibility" TargetName="focusBar" Value="Visible"/>
						</Trigger>
					</ControlTemplate.Triggers>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
		<Style.Triggers>
			<MultiTrigger>
				<MultiTrigger.Conditions>
					<Condition Property="IsInactiveSelectionHighlightEnabled" Value="true"/>
					<Condition Property="IsSelectionActive" Value="false"/>
				</MultiTrigger.Conditions>
				<Setter Property="SelectionBrush" Value="{DynamicResource TextBox.Disabled.Selection}"/>
			</MultiTrigger>
		</Style.Triggers>
	</Style>

	<Style TargetType="{x:Type controls:SpinButton}">
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="{x:Type controls:SpinButton}">
					<Grid>
						<Grid.RowDefinitions>
							<RowDefinition Height="*"/>
							<RowDefinition Height="*"/>
						</Grid.RowDefinitions>

						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="*"/>
							<ColumnDefinition Width="auto"/>
						</Grid.ColumnDefinitions>


						<TextBox x:Name="_numberBox" Grid.Row="0" Grid.RowSpan="2"
								 VerticalContentAlignment="Center" Visibility="Visible"
								 Text="{Binding Value, RelativeSource={RelativeSource TemplatedParent}, StringFormat={}{0:F2}}" 
								 Style="{DynamicResource SpinButtonTextBox}"/>

						<TextBox x:Name="_integerBox" Grid.Row="0" Grid.RowSpan="2"
								 VerticalContentAlignment="Center" Visibility="Collapsed"
								 Text="{Binding Value, RelativeSource={RelativeSource TemplatedParent}, StringFormat={}{0:F0}}"
								 Style="{DynamicResource SpinButtonTextBox}"/>
		
						<RepeatButton Grid.Column="1" Grid.Row="0" x:Name="PART_IncrementButton" FontFamily="{DynamicResource SymbolFont}" 
									  Content="&#xE70E;" Style="{DynamicResource UpRepeatButtonStyle}"/>
						<RepeatButton Grid.Column="1" Grid.Row="1" x:Name="PART_DecrementButton" FontFamily="{DynamicResource SymbolFont}" 
									  Content="&#xE70D;" Style="{DynamicResource DownRepeatButtonStyle}"/>
					</Grid>
					<ControlTemplate.Triggers>
						<Trigger Property="IsIntegral" Value="True">
							<Setter TargetName="_numberBox" Property="Visibility" Value="Collapsed"/>
							<Setter TargetName="_integerBox" Property="Visibility" Value="Visible"/>
						</Trigger>
					</ControlTemplate.Triggers>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>
</ResourceDictionary>